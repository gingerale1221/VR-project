<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Space and Mise En Scene</title>
    <meta name="description" content="360&deg; Image Gallery - A-Frame">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
<!--     <script src="https://rawgit.com/rdub80/aframe-shake2show-component/master/dist/aframe-shake2show-component.min.js"></script> -->
    <script src="mask.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <!--<script src="components/set-image.js"></script>--> 
    <!--<script src="https://rawgit.com/aframevr/aframe/master/dist/aframe-master.min.js"></script>--> 
    <!--<script src="https://unpkg.com/aframe-curve-component/dist/aframe-curve-component.min.js"></script>  -->
    <!--<script src="https://rawgit.com/aframevr/aframe/master/dist/aframe-master.min.js"></script>
    <script src="aframe-curve-component.js"></script>-->
  </head>
  <body>
<!--     <button id="btn" onclick="shakeMe();">
      Shake
    </button> -->
    <a-scene>
      <a-assets>
      <!-- stage change options -->
        <script id="stagechange" type="text/html">
          <a-entity class="link"
            geometry="primitive: box; height: 0.3; width: 0.3"
            material="src: assets/woodfloor"
            sound="on: click; src: assets/click.wav" ></a-entity>
        </script>
        <img crossorigin id="woodfloor" src="https://cdn.glitch.com/d9bdfdad-7e37-4b1c-873c-21d95bffa8da%2Fwoodfloor.jpg?1522142454218">
        <img crossorigin id="audience" src="https://cdn.glitch.com/d9bdfdad-7e37-4b1c-873c-21d95bffa8da%2Faudience.jpg?1522142453804">
        <img crossorigin id="mask" src="https://cdn.glitch.com/870721bd-583e-4098-bb6a-72d05c8a0c34%2Fmask.png?1522589386329">
        <img crossorigin id="blankmask" src="https://cdn.glitch.com/363ebadd-7355-4097-8305-523a4ce5d5fd%2Fblankmask.png?1522900196180">
        <img crossorigin id="ritualmask" src="https://cdn.glitch.com/363ebadd-7355-4097-8305-523a4ce5d5fd%2Fritualmask.png?1523066925531">
      </a-assets>

      <!-- surrounding -->
      <a-sky color="#000000"></a-sky>

      <!-- Ground -->
       <!-- backdrop -->
      <a-plane color="#CED175" height="30" width="30" position="-14.94 9.718" rotation="0 90 0"></a-plane>

      <!-- Ground -->
      <a-plane id="lineplane" rotation="-90 0 0" width="30" height="50" repeat="10 10" line-draw></a-plane>
      <a-plane id="floor" crossorigin src="#woodfloor" rotation="-90 0 0" width="30" height="50" repeat="10 10"></a-plane>

      <!-- Curtains -->
      <a-plane color="#E83737" height="30" width="7" position="1.907 11 -15.893" rotation="0 90 0"></a-plane>
      <a-plane color="#E83737" height="30" width="7" position="11.737 11 -21.33" rotation="0 90 0"></a-plane>
      <a-plane color="#E83737" height="30" width="7" position="-9.063 11 13.791" rotation="0 90 0"></a-plane>
      <a-plane color="#E83737" height="30" width="7" position="10.714 11 21.047" rotation="0 90 0"></a-plane>
      <a-plane color="#E83737" height="30" width="7" position="1.799 11 15.658" rotation="0 90 0"></a-plane>
      <a-plane color="#E83737" height="30" width="7" position="-9.054 11 -12.341" rotation="0 90 0"></a-plane>

      <!-- actor -->
      <a-cylinder shake2hide position="0 4.498 -0.01" radius="0.5" height="15" color="#4FA6AF">
        <a-sphere position="0 7 0" radius="1" color="#4FA6AF"></a-sphere>
      </a-cylinder>
      
      <!-- <a-sphere position="-0.3 8.242 0.892" radius="1" color="#4FA6AF">
      <a-cylinder position="0 -4.498 -0.01" radius="0.5" height="8" color="#4FA6AF"></a-cylinder>
      </a-sphere> -->

      <!-- audience -->
      <a-curvedimage src="#audience" height="30" radius="80" theta-length="72"
                 rotation="0 53.228 0" position="-42.05 12.053 0" scale="0.8 0.8 0.8"></a-curvedimage>
      
      <!-- Blank masks -->
      <a-entity shake2show visible="false">
        <!-- Second actor -->
        <a-cylinder position="-5 -5.5 -5.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 45 0" opacity="0.9"></a-plane>
<!--           <a-plane id="shaketwice" src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 45 0" opacity="0.9"></a-plane> -->
        </a-cylinder>
        <!-- Third actor -->
        <a-cylinder position="-7 -5.5 -3.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 45 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Fourth actor -->
        <a-cylinder position="-11 -5.5 2.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Fifth actor -->
        <a-cylinder position="-10 -5.5 5.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Sixth actor -->
        <a-cylinder position="-12 -5.5 11.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Seventh actor -->
        <a-cylinder position="-10 -5.5 14.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#blankmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
      </a-entity>
      
      <!-- Ritual masks -->
      <a-entity shake2show visible="true">
        <!-- Second actor -->
        <a-cylinder position="-5 -5.5 -5.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 45 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Third actor -->
        <a-cylinder position="-7 -5.5 -3.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 45 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Fourth actor -->
        <a-cylinder position="-11 -5.5 2.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Fifth actor -->
        <a-cylinder position="-10 -5.5 5.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Sixth actor -->
        <a-cylinder position="-12 -5.5 11.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
        <!-- Seventh actor -->
        <a-cylinder position="-10 -5.5 14.01" radius="0.5" height="8" color="#4FA6AF">
          <a-sphere position="0 4.5 0" radius="1" color="#4FA6AF"></a-sphere>
          <a-plane src="#ritualmask" height="2" width="2" position="1 4.5 0.5" rotation="0 90 0" opacity="0.9"></a-plane>
        </a-cylinder>
      </a-entity>
      
      <!-- Camera + cursor.  -->
      <a-entity id="#rig" position="5.192 7.687 1.544" rotation="1.948 88.865 -1.776">
        <a-entity id="camera" camera look-controls>
          <a-cursor id="cursor"></a-cursor>
          <!-- mask -->
          <a-plane id="user-mask" shake2show visible="false" src="#mask" height="2" width="2" position="0 0 0" rotation="0 90 0" opacity="0.9" camera-follow></a-plane>
        </a-entity>
      </a-entity>
    </a-scene>
  </body>
<!--   <script>
	// for dev only
    var triggerShake = document.createEvent("HTMLEvents");
    triggerShake.initEvent("shake", true, true);

    function shakeMe(){
      document.dispatchEvent(triggerShake);
      console.log("shake");
    }
  </script> -->
</html>
